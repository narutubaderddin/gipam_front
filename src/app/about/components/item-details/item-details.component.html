<div class="container-fluid d-flex">
  <div class="second-bloc">
    <div class="col-md-12 cadre">
      <div class="col-md-12 main-info d-flex">
        <div class="col-md-12 row">
          <div class="bloc-header" [class.sticky]="sticky" [ngClass]="menuClosed ? 'fullwidth' : 'width'" #stickyMenu>
            <div class="first-bloc col-md-12 row">
              <a href="portail"><i class="zmdi zmdi-fast-rewind"></i> Retour aux résultats de la recherche</a>

              <div class="d-flex justify-content-end">
                <div class="toggle-btn d-flex" (click)="dynamic = !dynamic">
                  <div class="d-flex">
                    <div class="btn-switch" [class.active]="!dynamic">Descriptifs</div>
                    <div class="btn-switch" [class.active]="dynamic">Actions</div>
                  </div>
                </div>
              </div>

              <div style="width: 10rem"></div>
            </div>
            <div class="first-bloc col-md-12 row justify-content-between">
              <a href="#"><i class="zmdi zmdi-caret-left"></i> Précédant | 144</a>
              <span class="titre1">N° inventaire 145</span>
              <a href="#">146 | Suivant <i class="zmdi zmdi-caret-right"></i></a>
            </div>

            <div class="col-md-12 title-box d-flex">
              <div class="col-8 titre p-0 d-flex">
                Titre de l'Oeuvre
                <span
                  class="type"
                  [ngStyle]="type == 'propiete' ? { backgroundColor: '#00D6D4' } : { backgroundColor: '#0080FF' }"
                  >{{ type == 'propiete' ? 'Propriété' : 'Dépot' }}</span
                >
              </div>
              <div class="col-4 icons p-0">
                <i class="fas fa-archive"></i>
                <i class="far fa-file-excel" *ngIf="!dynamic"></i>
                <i class="fas fa-print" (click)="downloadPDF()"></i>
                <i class="far fa-edit" (click)="onEditMode()" *ngIf="!dynamic"></i>
              </div>
            </div>
          </div>

          <div class="col-md-12 mt-2">
            <div *ngIf="!dynamic">
              <div class="d-flex top-bloc">
                <div class="col-4 image-container">
                  <div class="row detail-image">
                    <div class="col-md-12 d-flex p-0">
                      <app-item-images
                        [photographiesForm]="photographiesForm"
                        [edit]="edit"
                        [images]="photographies"
                        (imgToShow)="src($event)"
                        class="col-12"
                      ></app-item-images>
                    </div>
                    <i class="fas fa-eye" title="voir image" (click)="showImg()"></i>
                  </div>
                </div>
                <!--Modal-->
                <div id="image-viewer" [class.active]="openImg">
                  <p class="close" (click)="showImg()">&times;</p>
                  <img [src]="imgSrc" alt="" class="modal-content" id="full-image" />
                </div>

                <div class="col-8 form-bloc pr-0">
                  <div class="col-12 p-0">
                    <div class="d-flex justify-content-between">
                      <nav ngbNav #nav="ngbNav" class="nav-tabs">
                        <ng-container ngbNavItem>
                          <a ngbNavLink><i class="far fa-file-alt mr-2"></i>Descriptifs physiques</a>
                          <ng-template ngbNavContent>
                            <app-descritif
                              [edit]="edit"
                              [artwork]="artwork"
                              [addProperty]="false"
                              [addDepot]="false"
                            ></app-descritif>
                          </ng-template>
                        </ng-container>
                        <ng-container ngbNavItem>
                          <a ngbNavLink><i class="fas fa-info-circle mr-2"></i>Descriptifs juridiques</a>
                          <ng-template ngbNavContent>
                            <app-status
                              [edit]="edit"
                              [depositStatusForm]="depositStatusForm"
                              [addDeposit]="true"
                            ></app-status>
                          </ng-template>
                        </ng-container>
                      </nav>
                    </div>

                    <div [ngbNavOutlet]="nav" class=""></div>
                    <div *ngIf="edit" class="col-md-12 p-0" style="display: flex; flex-direction: row-reverse">
                      <button class="btn valid-btn" (click)="onSave()">Enregistrer</button>
                      <button class="btn btn-action cancel-btn">Annuler</button>
                    </div>
                  </div>
                  <div class="d-flex col-12 p-0 flex-column">
                    <div class="d-flex col-12 p-0 mt-4 justify-content-between">
                      <div class="attachments-container mr-2 col-md-7 p-0">
                        <app-attachments
                          style="width: 100%"
                          [attachmentForm]="attachmentForm"
                          [add]="false"
                          [itemDetails]="true"
                        ></app-attachments>
                      </div>
                      <div class="attachments-container ml-2 col-md-5 p-0">
                        <app-links
                          style="width: 100%"
                          [add]="false"
                          [itemDetails]="true"
                        ></app-links>
                      </div>
                    </div>
                    <div class="attachments-container col-md-12 p-0 row m-0 align-baseline">
                      <app-hypertext-links style="width: 100%"
                      [add]="false"
                      [itemDetails]="true">
                      </app-hypertext-links>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="col-md-12 p-0" *ngIf="dynamic" style="width: 100%">
              <app-dynamic [dynamicState]="dynamic" (dynamic)="f1($event)"></app-dynamic>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div hidden>
  <div id="appItemDetailsPdf">
    <br />
    <app-item-details-pdf [artwork]="artwork"></app-item-details-pdf>
    <br />
  </div>
</div>
